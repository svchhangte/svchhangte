<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Will You Be My Valentine Nabii? üíòü¶ã</title>

<style>
*{
    margin:0;
    padding:0;
    box-sizing:border-box;
    font-family:'Segoe UI',sans-serif;
}

body{
    height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
    background:radial-gradient(circle at top,#ff758c,#ff7eb3);
    overflow:hidden;
}

.container{
    background:white;
    padding:40px;
    border-radius:25px;
    box-shadow:0 25px 50px rgba(0,0,0,0.25);
    width:90%;
    max-width:420px;
    text-align:center;
    position:relative;
    z-index:2;
}

h1{
    color:#ff2e63;
    margin-bottom:10px;
}

h3{
    color:#ff2e63;
    margin-bottom:10px;
}

#typeText{
    min-height:30px;
    font-size:16px;
    color:#555;
    margin-bottom:15px;
}

/* PHOTO */
#photo{
    width:130px;
    height:130px;
    object-fit:cover;
    border-radius:50%;
    margin-bottom:15px;
    border:4px solid #ff2e63;
    transition:all 0.6s ease;
}

/* Floating glow after yes */
.photoCelebrate{
    animation:floatGlow 3s ease-in-out infinite;
    box-shadow:0 0 25px #ff2e63,0 0 60px #ff9ab3;
}

@keyframes floatGlow{
    0%{transform:translateY(0) scale(1.05);}
    50%{transform:translateY(-15px) scale(1.1);}
    100%{transform:translateY(0) scale(1.05);}
}

/* BUTTONS */
button{
    padding:12px 25px;
    border:none;
    border-radius:30px;
    font-size:16px;
    cursor:pointer;
    margin:10px;
    transition:transform 0.2s ease, box-shadow 0.3s ease;
}

#yesBtn{
    background:#ff2e63;
    color:white;
}

/* Glow on hover */
#yesBtn:hover{
    box-shadow:0 0 15px #ff2e63,0 0 30px #ff9ab3,0 0 45px #ffc1d6;
    transform:scale(2.1);
}

#noBtn{
    background:#ccc;
    color:#333;
}

#noMessage{
    min-height:24px;
    font-size:14px;
    color:#444;
    margin-top:10px;
}

/* Final beautiful message */
.success{
    display:none;
    margin-top:20px;
    background-color: #5c0a2c;
    border-radius: 20px;
    font-size:22px;
    font-weight:bold;
    color: #ccc;
    animation:fadeInScale 1.2s ease forwards;
}

@keyframes fadeInScale{
    from{opacity:0;transform:scale(0.8);}
    to{opacity:1;transform:scale(1.1);}
}

/* Roses */
.rose{
    position:fixed;
    bottom:-40px;
    font-size:24px;
    animation:rise 6s linear forwards;
}

@keyframes rise{
    to{transform:translateY(-110vh) rotate(360deg);opacity:0;}
}

canvas{
    position:fixed;
    top:0;
    left:0;
    pointer-events:none;
    z-index:1;
}
</style>
</head>

<body>

<canvas id="fireworks"></canvas>

<div class="container">
    <h3>Will You Be My Valentine, Nabii? üíñü¶ã</h3>
    <div id="typeText"></div>

    <img id="photo" src="vday.jpg" alt="Her Photo">

    <div id="buttonsArea">
        <button id="yesBtn">Aww üíò</button>
        <button id="noBtn">Aihh üò¢</button>
    </div>

    <div id="noMessage"></div>

    <div class="success" id="successMsg">
        üíû Yes i tih kha ka ring renggg ahh!! üíû  
        <br>
        Love youuuu...ka duhnuu üåπ‚ú®
    </div>
    <br/>
    <hr/>
    <center>
        
        <h5>Coded with üíï by Samm V Chhangte</h5>
    
    </center>

</div>

<audio id="bgMusic" loop>
    <source src="music.mp3" type="audio/mpeg">
</audio>


<script>

   
// TYPEWRITER
const typeText = document.getElementById("typeText");
const text = "From the moment we met, everything felt brighter... üí´";
let index = 0;
function typeWriter(){
    if(index < text.length){
        typeText.innerHTML += text.charAt(index);
        index++;
        setTimeout(typeWriter, 40);
    }
}
typeWriter();

// ELEMENTS
const noBtn = document.getElementById("noBtn");
const yesBtn = document.getElementById("yesBtn");
const noMessage = document.getElementById("noMessage");
const buttonsArea = document.getElementById("buttonsArea");
const photo = document.getElementById("photo");
const successMsg = document.getElementById("successMsg");

let noClickCount = 0;
let yesScale = 1;
const maxYesScale = 1.6;

// NO MESSAGES
const messages = [
    "I chiang chiah maw? ü•∫",
    "Chocolate pawh ka lei ang che..ngaihtuah chiang hram la üç´",
    "Kan inhmeh em khaa üòå",
    "I rilru han seng tha leh tehh üí≠",
    "I van peih mai mai tak üíò"
];

// NO BUTTON CLICK
noBtn.addEventListener("click", () => {

    noMessage.innerText = messages[noClickCount] || "A tawp nan chiah..Will you be my Valentine? üíñ";
    noClickCount++;

    if(yesScale < maxYesScale){
        yesScale += 0.08;
        yesBtn.style.transform = `scale(${yesScale})`;
    }
});

// YES BUTTON CLICK
yesBtn.addEventListener("click", () => {

    // If No was never clicked
    if(noClickCount === 0){
        noMessage.innerText = "I hmanhmawh e üòè No hi click vel chhin phawt tehh.";
        return;
    }

    // Otherwise proceed normally
    buttonsArea.style.display = "none";
    noMessage.innerText = "";
    successMsg.style.display = "block";

bgMusic.play(); // start music here

    buttonsArea.style.display = "none";
    noMessage.innerText = "";
    successMsg.style.display = "block";

    photo.classList.add("photoCelebrate");

    startFireworks();
    launchRoses();

    if(navigator.vibrate){
        navigator.vibrate([200,100,200]);
    }
});

// FIREWORKS
const canvas = document.getElementById("fireworks");
const ctx = canvas.getContext("2d");
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

function startFireworks(){
    for(let i=0;i<20;i++){
        setTimeout(()=>{
            const x=Math.random()*canvas.width;
            const y=Math.random()*canvas.height/2;
            drawFirework(x,y);
        },i*300);
    }
}

function drawFirework(x,y){
    for(let i=0;i<50;i++){
        const angle=Math.random()*2*Math.PI;
        const radius=Math.random()*80;
        ctx.beginPath();
        ctx.arc(x+Math.cos(angle)*radius,y+Math.sin(angle)*radius,2,0,Math.PI*2);
        ctx.fillStyle=`hsl(${Math.random()*360},100%,50%)`;
        ctx.fill();
    }
}

// ROSES
function launchRoses(){
    for(let i=0;i<30;i++){
        const rose=document.createElement("div");
        rose.innerHTML="üåπ";
        rose.classList.add("rose");
        rose.style.left=Math.random()*100+"vw";
        rose.style.animationDuration=(Math.random()*3+4)+"s";
        document.body.appendChild(rose);
        setTimeout(()=>rose.remove(),7000);
    }
}
</script>

</body>
</html>
